import{u as S,r,j as e,L as P,s as C,v as z}from"./index-D2g3KFVD.js";const q=()=>{const c=S(),[u,p]=r.useState(!1),[f,h]=r.useState(!1),[g,x]=r.useState(!1),[m,y]=r.useState(!1),[o,i]=r.useState(!1),[j,l]=r.useState(!1),[n,w]=r.useState(""),[t,a]=r.useState({fullName:"",email:"",password:"",confirmPassword:""}),b=async()=>{var s;try{if(t.fullName===""||t.email===""||t.password===""||t.confirmPassword===""){i(!0);return}if(!((s=t==null?void 0:t.email)!=null&&s.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))){h(!0);return}if(t.password!==t.confirmPassword)return alert("Password did not match");(await C(t)).status&&p(!0)}catch(d){alert("Signup failed",d.message)}},v=async()=>{if(n===""){l(!0);return}const s=await z({otp:n});s.status&&localStorage.setItem("token",s.data.token),s.status||y(!0),s.status===!0&&x(!0)};return e.jsx("div",{style:{color:"#005652",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"5em 0"},children:u?g?e.jsxs(e.Fragment,{children:[e.jsxs("h1",{style:{fontSize:"50px",textAlign:"center"},children:["You Have Successfully",e.jsx("br",{}),"Registered !"]}),e.jsx("img",{src:"./sub.png",alt:"/",style:{width:"100%",objectFit:"contain",height:"20em"}}),e.jsx("div",{style:{color:"#99a79f",width:"35%"},children:e.jsx("button",{style:{marginTop:"1em",fontSize:"30px",textAlign:"center",width:"100%",padding:"10px",border:"none",background:"#0b4640",color:"#fff",fontWeight:"bold"},onClick:()=>{c("/"),window.location.reload()},children:"Go Home"})})]}):e.jsxs("div",{children:[e.jsxs("h3",{style:{textTransform:"capitalize"},children:[" ","We have send an otp to your email please use that otp to verify your email"]}),e.jsx("p",{style:{width:"35%",fontSize:"16px",padding:"0.7em 0",fontWeight:"bold"},children:"OTP(One Time Password)"}),e.jsx("input",{style:{width:"35%",padding:"5px",fontSize:20,borderRadius:10,border:"1px solid grey"},value:n,onChange:s=>{w(s.target.value),l(!1)}}),j&&e.jsx("p",{style:{color:"red"},children:"OTP required"}),m&&e.jsx("p",{style:{color:"red",paddingTop:10},children:"Not a valid OTP"}),e.jsx("button",{style:{marginTop:"1em",fontSize:"30px",textAlign:"center",width:"100%",padding:"10px",border:"none",background:"#0b4640",color:"#fff",fontWeight:"bold"},onClick:v,children:"Verify Email"})]}):e.jsxs("div",{className:"register-container",children:[e.jsxs("h1",{children:[e.jsxs(P,{to:"/sign-in",style:{color:"#99a79f"},children:["Sign in |"," "]}),"Register"]}),e.jsx("p",{children:"User Name"}),e.jsx("input",{onChange:s=>{a({...t,fullName:s.target.value}),i(!1)},required:!0}),o&&t.fullName===""&&e.jsx("p",{style:{color:"red"},children:"User Name required"}),e.jsx("p",{children:"Email Address"}),e.jsx("input",{type:"email",onChange:s=>{a({...t,email:s.target.value}),i(!1)},required:!0}),f&&e.jsx("p",{style:{color:"red"},children:"Email is not valid"}),o&&t.email===""&&e.jsx("p",{style:{color:"red"},children:"Email required"}),e.jsx("p",{children:"Password"}),e.jsx("input",{type:"password",onChange:s=>{a({...t,password:s.target.value}),i(!1)},required:!0}),o&&t.password===""&&e.jsx("p",{style:{color:"red"},children:"Password required"}),e.jsx("p",{children:"Confirm Password"}),e.jsx("input",{type:"password",onChange:s=>{a({...t,confirmPassword:s.target.value}),i(!1)},required:!0}),o&&t.confirmPassword===""&&e.jsx("p",{style:{color:"red"},children:"Confirm Password required"}),e.jsxs("p",{style:{fontWeight:"500",lineHeight:"1.5em",fontSize:"20px"},children:["Your personal data will be used to support your experience ",e.jsx("br",{}),"throughout this website, to manage access to your account,",e.jsx("br",{}),"and for other purposes described in our privacy policy"]}),e.jsx("button",{style:{marginTop:"1em",fontSize:"30px",textAlign:"center",width:"35%",padding:"10px",border:"none",background:"#0b4640",color:"#fff",fontWeight:"bold"},onClick:b,children:"Register"})]})})};export{q as default};
