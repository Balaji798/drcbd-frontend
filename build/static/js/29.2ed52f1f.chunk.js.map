{"version":3,"file":"static/js/29.2ed52f1f.chunk.js","mappings":"+NAQA,MA+FA,EA/FuBA,KACrB,MAAMC,EAAiBC,aAAaC,QAAQ,kBACtCC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OACX,QAAEC,IAAYC,EAAAA,EAAAA,MACpB,IAAIC,EAAQ,EACZ,MAAOC,EAAOC,IAAaC,EAAAA,EAAAA,UAAS,CAAC,GAgCrC,OA9BAC,QAAQC,IAAIL,IACZM,EAAAA,EAAAA,YAAU,KAwBG,IAARN,GAvBeO,WAChBP,IACA,MAAMQ,EAAOhB,aAAaC,QAAQ,SAC5BgB,EAAS,CACbC,QAAS,CACPC,cAAc,UAADC,OAAYJ,GACzB,eAAgB,qBAGpB,IACE,MAAMK,EAAYrB,aAAaC,QAAQ,kBACjCqB,QAAYC,EAAAA,EAAMC,KACtB,6DACA,CAAEC,OAAQnB,EAAQe,YAAUK,QAASC,KAAKC,MAAM7B,IAChDkB,GAEFL,QAAQC,IAAIS,EAAIO,KAAKpB,QACrBC,EAAUY,EAAIO,KAAKpB,cACbqB,EAAAA,EAAAA,IAAQ5B,EAChB,CAAE,MAAO6B,GACPnB,QAAQmB,MAAM,uBAAwBA,EACxC,GAGAC,EACF,GACC,KAGDC,EAAAA,EAAAA,KAAA,OACEC,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,QAAS,UACTC,UAEFC,EAAAA,EAAAA,MAAA,OACEN,MAAO,CACLC,QAAS,OACTM,cAAe,SACfL,eAAgB,SAChBC,WAAY,SACZK,MAAO,WACPH,SAAA,CAED9B,GAAOwB,EAAAA,EAAAA,KAACU,EAAAA,IAAiB,CAACD,MAAM,UAAUE,KAAM,MAAOX,EAAAA,EAAAA,KAACY,EAAAA,IAAO,CAACH,MAAM,UAAUE,KAAM,MACvFX,EAAAA,EAAAA,KAAA,MAAIC,MAAO,CAAEI,QAAS,SAAUC,SAAE9B,EAAO,iCAAiC,mBAC1EA,IAASwB,EAAAA,EAAAA,KAAA,KAAAM,SAAG,gCACZ9B,GAAQwB,EAAAA,EAAAA,KAAA,UACNC,MAAO,CACLY,WAAY,UACZJ,MAAO,OACPK,UAAW,SACXC,OAAQ,SACRC,WAAY,OACZC,SAAU,OACVC,MAAO,SAETC,QAASrC,UACPX,EAAS,iBAAiB,EAC1BmC,SACH,iBAESN,EAAAA,EAAAA,KAAA,UACVC,MAAO,CACLY,WAAY,UACZJ,MAAO,OACPK,UAAW,SACXC,OAAQ,SACRC,WAAY,OACZC,SAAU,OACVC,MAAO,SAETC,QAASrC,UACPX,EAAS,kBAAoBE,EAAQ,EACrCiC,SACH,qBAIG,C","sources":["pages/PaymentSuccess.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { BiSolidBadgeCheck } from \"react-icons/bi\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { getCart } from \"../state/actions/cartAction\";\r\nimport { MdError } from \"react-icons/md\"\r\n\r\nconst PaymentSuccess = () => {\r\n  const delver_address = localStorage.getItem(\"delver_address\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { orderId } = useParams();\r\n  let count = 0;\r\n  const [status,setStatus] = useState({});\r\n\r\n  console.log(count)\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      count++\r\n      const user = localStorage.getItem(\"token\");\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${user}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      try {\r\n        const paymentId = localStorage.getItem(\"omisePaymentId\")\r\n        const res = await axios.post(\r\n          \"https://drcbd-backend-test.onrender.com/orders/get_payment\",\r\n          { cartId: orderId,paymentId,userAdd: JSON.parse(delver_address), },\r\n          config\r\n        );\r\n        console.log(res.data.status)\r\n        setStatus(res.data.status);\r\n        await getCart(dispatch);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n    if(count===0){\r\n      fetchData();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        padding: \"5rem 0\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          color: \"#005652\",\r\n        }}\r\n      >\r\n        {status?<BiSolidBadgeCheck color=\"#005652\" size={45} />:<MdError color=\"#cc0000\" size={45}/>}\r\n        <h4 style={{ padding: \"5px 0\" }}>{status?\"Your Order Placed Successfully\":\"Payment failed\"}</h4>\r\n       {status&& <p>Thank You For Your Shopping</p>}\r\n       {status? <button\r\n          style={{\r\n            background: \"#005652\",\r\n            color: \"#fff\",\r\n            textAlign: \"center\",\r\n            margin: \"15px 0\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"20px\",\r\n            width: \"20rem\",\r\n          }}\r\n          onClick={async () => {\r\n            navigate(\"/order-history\");\r\n          }}\r\n        >\r\n          Track Order\r\n        </button>:<button\r\n        style={{\r\n          background: \"#005652\",\r\n          color: \"#fff\",\r\n          textAlign: \"center\",\r\n          margin: \"15px 0\",\r\n          fontWeight: \"bold\",\r\n          fontSize: \"20px\",\r\n          width: \"20rem\",\r\n        }}\r\n        onClick={async () => {\r\n          navigate(\"/order-summery/\" + orderId);\r\n        }}\r\n      >\r\n        Payment Page\r\n      </button>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentSuccess;\r\n"],"names":["PaymentSuccess","delver_address","localStorage","getItem","dispatch","useDispatch","navigate","useNavigate","orderId","useParams","count","status","setStatus","useState","console","log","useEffect","async","user","config","headers","Authorization","concat","paymentId","res","axios","post","cartId","userAdd","JSON","parse","data","getCart","error","fetchData","_jsx","style","display","justifyContent","alignItems","padding","children","_jsxs","flexDirection","color","BiSolidBadgeCheck","size","MdError","background","textAlign","margin","fontWeight","fontSize","width","onClick"],"sourceRoot":""}